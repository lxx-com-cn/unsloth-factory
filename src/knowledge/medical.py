# src/knowledge/medical.py
MEDICAL_KNOWLEDGE_BASE = {
    "闭经": ["妊娠", "内分泌失调", "多囊卵巢综合征", "垂体瘤", "Asherman综合征"],
    "头皮病变": ["疖病", "脓肿", "脂溢性皮炎", "头癣", "蜂窝组织炎"],
    "麻疹": ["科普利克斑", "结膜炎", "皮疹", "发热", "咳嗽"],
    "三叉神经痛": ["电击样疼痛", "面部疼痛", "触发点", "卡马西平有效"],
    "胃肠穿孔": ["突发剧烈腹痛", "板状腹", "膈下游离气体", "腹部X线平片"],
    "霍奇金病": ["无痛性淋巴结肿大", "发热", "体重减轻", "ABVD化疗"],
    "糖尿病": ["胰岛素抵抗", "高血糖", "多饮多尿", "视网膜病变", "肾病"],
    "高血压": ["收缩压升高", "舒张压升高", "头痛", "头晕", "心血管风险"],
    "肺炎": ["发热", "咳嗽", "胸痛", "听诊湿啰音", "X线浸润影"],
    "心肌梗死": ["胸骨后压榨性疼痛", "心电图ST段抬高", "心肌酶升高", "冠状动脉阻塞"],
    "脑卒中": ["偏瘫", "失语", "面瘫", "CT/MRI显示梗死或出血"],
    "咳嗽伴低热": ["肺结核", "肺炎", "支气管炎", "肺癌", "肺脓肿"],
    "上腹部刀割样疼痛": ["消化道穿孔", "急性胰腺炎", "胆囊炎", "心肌梗死"],
    "误服不明液体": ["腐蚀性食管炎", "化学性烧伤", "中毒", "急性肝损伤"],
    "肢体无力伴言语不清": ["脑卒中", "脑梗死", "脑出血", "短暂性脑缺血发作"],
    "胸痛": ["心绞痛", "心肌梗死", "肺栓塞", "胸膜炎"],
    "呼吸困难": ["哮喘", "慢性阻塞性肺病", "心力衰竭", "肺栓塞"],
    "腹痛": ["阑尾炎", "胆囊炎", "胰腺炎", "肠梗阻"],
    "脑卒中症状": ["偏瘫", "言语不清", "面瘫", "意识障碍", "视力问题"],
}

MEDICAL_TERM_MAP = {
    "Gestational Hypertension": "妊娠期高血压",
    "AKI": "急性肾损伤",
    "LiDAR": "激光雷达扫描",
    "EDTA": "乙二胺四乙酸",
    "Koplik's spots": "科普利克斑",
    "Trigeminal neuralgia": "三叉神经痛",
    "Rudimentary horn": "残角子宫",
    "Pneumococcal pneumonia": "肺炎球菌肺炎",
    "ABVD": "阿霉素+博来霉素+长春花碱+达卡巴嗪",
    "CT": "计算机断层扫描",
    "MRI": "磁共振成像",
    "ECG": "心电图",
    "CBC": "全血细胞计数",
    "HbA1c": "糖化血红蛋白",
    "STEMI": "ST段抬高型心肌梗死",
    "CVA": "脑血管意外"
}

def get_domain_specific_advice(condition, response):
    """获取医学领域特定建议"""
    if condition == "闭经":
        return response + "\n\n建议: 需排除妊娠后再评估"
    elif condition == "麻疹":
        return response + "\n\n建议: 注意科普利克斑诊断"
    elif condition == "胃肠穿孔":
        return response + "\n\n建议: 立即行腹部X线检查"
    elif condition == "误服不明液体":
        return response + "\n\n警告: 不要自行催吐，立即就医"
    elif condition == "心肌梗死":
        return response + "\n\n紧急建议: 立即拨打急救电话，不要自行用药"
    return response